<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HRIS Pakistan - Human Rights Information Management System</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div id="app"></div>
    <script>
    // Complete Application Code - Pakistan HRIS
    const APP_CONFIG = {
        conventions: [
            {id:'icerd',title:'ICERD',icon:'ğŸ“œ',fullName:'International Convention on the Elimination of All Forms of Racial Discrimination',urdu:'Ù†Ø³Ù„ÛŒ Ø§Ù…ØªÛŒØ§Ø² Ú©ÛŒ ØªÙ…Ø§Ù… Ø§Ù‚Ø³Ø§Ù… Ú©Û’ Ø®Ø§ØªÙ…Û’ Ú©Ø§ Ø¨ÛŒÙ† Ø§Ù„Ø§Ù‚ÙˆØ§Ù…ÛŒ Ú©Ù†ÙˆÙ†Ø´Ù†',adopted:'1965',ratified:'1966',articles:'25',implementation:'72'},
            {id:'iccpr',title:'ICCPR',icon:'âš–ï¸',fullName:'International Covenant on Civil and Political Rights',urdu:'Ø´ÛØ±ÛŒ Ø§ÙˆØ± Ø³ÛŒØ§Ø³ÛŒ Ø­Ù‚ÙˆÙ‚ Ú©Ø§ Ø¨ÛŒÙ† Ø§Ù„Ø§Ù‚ÙˆØ§Ù…ÛŒ Ù…Ø¹Ø§ÛØ¯Û',adopted:'1966',ratified:'2010',articles:'53',implementation:'68'},
            {id:'icescr',title:'ICESCR',icon:'ğŸ›ï¸',fullName:'International Covenant on Economic, Social and Cultural Rights',urdu:'Ù…Ø¹Ø§Ø´ÛŒØŒ Ø³Ù…Ø§Ø¬ÛŒ Ø§ÙˆØ± Ø«Ù‚Ø§ÙØªÛŒ Ø­Ù‚ÙˆÙ‚ Ú©Ø§ Ø¨ÛŒÙ† Ø§Ù„Ø§Ù‚ÙˆØ§Ù…ÛŒ Ù…Ø¹Ø§ÛØ¯Û',adopted:'1966',ratified:'2008',articles:'31',implementation:'55'},
            {id:'cedaw',title:'CEDAW',icon:'ğŸ‘©',fullName:'Convention on the Elimination of All Forms of Discrimination against Women',urdu:'Ø®ÙˆØ§ØªÛŒÙ† Ú©Û’ Ø®Ù„Ø§Ù Ø§Ù…ØªÛŒØ§Ø² Ú©ÛŒ ØªÙ…Ø§Ù… Ø§Ù‚Ø³Ø§Ù… Ú©Û’ Ø®Ø§ØªÙ…Û’ Ú©Ø§ Ú©Ù†ÙˆÙ†Ø´Ù†',adopted:'1979',ratified:'1996',articles:'30',implementation:'65'},
            {id:'cat',title:'CAT',icon:'ğŸ›¡ï¸',fullName:'Convention against Torture and Other Cruel Treatment',urdu:'ØªØ´Ø¯Ø¯ Ø§ÙˆØ± Ø¯ÛŒÚ¯Ø± Ø¸Ø§Ù„Ù…Ø§Ù†Û Ø³Ù„ÙˆÚ© Ú©Û’ Ø®Ù„Ø§Ù Ú©Ù†ÙˆÙ†Ø´Ù†',adopted:'1984',ratified:'2010',articles:'33',implementation:'58'},
            {id:'crc',title:'CRC',icon:'ğŸ‘¶',fullName:'Convention on the Rights of the Child',urdu:'Ø¨Ú†ÙˆÚº Ú©Û’ Ø­Ù‚ÙˆÙ‚ Ú©Ø§ Ú©Ù†ÙˆÙ†Ø´Ù†',adopted:'1989',ratified:'1990',articles:'54',implementation:'61'},
            {id:'crpd',title:'CRPD',icon:'â™¿',fullName:'Convention on the Rights of Persons with Disabilities',urdu:'Ù…Ø¹Ø°ÙˆØ± Ø§ÙØ±Ø§Ø¯ Ú©Û’ Ø­Ù‚ÙˆÙ‚ Ú©Ø§ Ú©Ù†ÙˆÙ†Ø´Ù†',adopted:'2006',ratified:'2011',articles:'50',implementation:'52'}
        ],
        indicators: [
            {icon:'ğŸ¥',title:'Right to Health',desc:'Access to healthcare services',v1:'78%',l1:'Coverage',v2:'15',l2:'Programs'},
            {icon:'ğŸ“š',title:'Right to Education',desc:'Universal access to quality education',v1:'62%',l1:'Literacy',v2:'28',l2:'Initiatives'},
            {icon:'ğŸ’¼',title:'Right to Work',desc:'Fair employment opportunities',v1:'5.8%',l1:'Unemployment',v2:'12',l2:'Policies'},
            {icon:'ğŸ ',title:'Right to Housing',desc:'Adequate housing for all',v1:'45%',l1:'Adequate',v2:'8',l2:'Projects'},
            {icon:'ğŸ',title:'Right to Food',desc:'Access to nutritious food',v1:'36%',l1:'Food Security',v2:'19',l2:'Programs'}
        ],
        sdgs: [
            {icon:'ğŸ¯',title:'No Poverty',desc:'End poverty everywhere',v1:'24.3%',l1:'Poverty Rate',v2:'2030',l2:'Target'},
            {icon:'ğŸŒ¾',title:'Zero Hunger',desc:'End hunger, achieve food security',v1:'20.3%',l1:'Undernourished',v2:'7',l2:'Programs'},
            {icon:'ğŸ’ª',title:'Good Health',desc:'Ensure healthy lives',v1:'62',l1:'Life Expectancy',v2:'15',l2:'Initiatives'},
            {icon:'ğŸ“',title:'Quality Education',desc:'Inclusive quality education',v1:'22.8M',l1:'Out of School',v2:'12',l2:'Programs'}
        ],
        requests: [
            {id:'REQ-2024-0150',title:'Women Rights Assessment',conv:'CEDAW',prov:'Punjab',date:'2024-01-15',status:'completed'},
            {id:'REQ-2024-0151',title:'Child Labor Investigation',conv:'CRC',prov:'Sindh',date:'2024-02-20',status:'pending'},
            {id:'REQ-2024-0152',title:'Torture Prevention Measures',conv:'CAT',prov:'Balochistan',date:'2024-01-10',status:'overdue'},
            {id:'REQ-2024-0153',title:'Disability Rights Implementation',conv:'CRPD',prov:'KPK',date:'2024-02-28',status:'pending'},
            {id:'REQ-2024-0154',title:'Economic Rights Survey',conv:'ICESCR',prov:'Islamabad',date:'2024-01-20',status:'completed'},
            {id:'REQ-2024-0155',title:'Political Rights Review',conv:'ICCPR',prov:'GB',date:'2024-03-05',status:'pending'}
        ],
        records: [
            {id:'REC-2024-0081',title:'Women Economic Empowerment Program',conv:'CEDAW',area:'Women Rights',status:'accomplished',date:'2024-01-15'},
            {id:'REC-2024-0082',title:'Child Labor Elimination Initiative',conv:'CRC',area:'Child Rights',status:'ongoing',date:'2024-02-10'},
            {id:'REC-2024-0083',title:'Disability Access Improvement',conv:'CRPD',area:'Disability Rights',status:'accomplished',date:'2024-01-20'},
            {id:'REC-2024-0084',title:'Torture Prevention Training',conv:'CAT',area:'Civil Rights',status:'ongoing',date:'2024-02-15'},
            {id:'REC-2024-0085',title:'Minority Rights Protection',conv:'ICERD',area:'Minority Rights',status:'ongoing',date:'2024-02-20'},
            {id:'REC-2024-0086',title:'Healthcare Access Improvement',conv:'ICESCR',area:'Economic Rights',status:'accomplished',date:'2024-01-25'}
        ]
    };

    const STYLES = `
        *{margin:0;padding:0;box-sizing:border-box}
        :root{--pk-green:#01411C;--dk-green:#0A5F2C;--blue:#1E88E5;--cyan:#00ACC1;--lt-cyan:#E0F7FA;--ylw:#FFF3E0;--red:#FFEBEE;--grn:#E8F5E9;--txt:#212121;--txt-lt:#757575;--bdr:#E0E0E0;--ok:#4CAF50;--warn:#FF9800;--err:#F44336;--ylw-on:#FFF9C4;--grn-acc:#C8E6C9}
        body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Arial,sans-serif;background:#F5F5F5;color:var(--txt)}
        .lang-toggle{position:fixed;top:20px;right:20px;display:flex;gap:10px;background:#fff;padding:5px;border-radius:25px;box-shadow:0 2px 5px rgba(0,0,0,.1);z-index:1000}
        .lang-btn{padding:8px 16px;border:none;background:transparent;cursor:pointer;border-radius:20px;transition:.3s}
        .lang-btn.active{background:var(--pk-green);color:#fff}
        .login-container{display:none;min-height:100vh;background:linear-gradient(135deg,var(--pk-green),var(--dk-green));justify-content:center;align-items:center}
        .login-box{background:#fff;padding:40px;border-radius:12px;box-shadow:0 20px 40px rgba(0,0,0,.2);width:400px;text-align:center}
        .logo{width:80px;height:80px;background:var(--pk-green);border-radius:50%;margin:0 auto 20px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:24px;font-weight:bold}
        .sys-title{color:var(--pk-green);font-size:24px;font-weight:bold;margin-bottom:5px}
        .sys-sub{color:var(--txt-lt);font-size:14px}
        .urdu{font-family:'Noto Nastaliq Urdu',Arial;direction:rtl;font-size:16px}
        .form-grp{margin-bottom:20px;text-align:left}
        .form-grp label{display:block;margin-bottom:8px;color:var(--txt);font-weight:500}
        .form-grp input{width:100%;padding:12px;border:2px solid var(--bdr);border-radius:8px;font-size:16px}
        .form-grp input:focus{outline:none;border-color:var(--blue)}
        .login-btn{width:100%;padding:14px;background:var(--pk-green);color:#fff;border:none;border-radius:8px;font-size:16px;font-weight:bold;cursor:pointer}
        .login-btn:hover{background:var(--dk-green)}
        .screen{display:none}
        .header{background:var(--pk-green);color:#fff;padding:20px 30px;position:sticky;top:0;z-index:100}
        .header-content{display:flex;justify-content:space-between;align-items:center;max-width:1400px;margin:0 auto}
        .back-btn{display:inline-flex;align-items:center;gap:8px;background:rgba(255,255,255,.1);padding:10px 20px;border-radius:8px;color:#fff;border:none;cursor:pointer;font-size:14px}
        .back-btn:hover{background:rgba(255,255,255,.2)}
        .user-info{display:flex;align-items:center;gap:15px}
        .main-layout{display:flex}
        .sidebar{width:280px;background:#fff;min-height:calc(100vh - 80px);box-shadow:2px 0 5px rgba(0,0,0,.05)}
        .nav-menu{padding:20px 0}
        .nav-item{display:block;padding:15px 30px;color:var(--txt);cursor:pointer;border-left:4px solid transparent;transition:.3s}
        .nav-item:hover{background:var(--lt-cyan);border-left-color:var(--blue)}
        .nav-item.active{background:var(--lt-cyan);border-left-color:var(--pk-green);color:var(--pk-green);font-weight:600}
        .nav-sub{padding-left:50px;background:#FAFAFA}
        .nav-sub .nav-item{padding:10px 30px;font-size:14px}
        .main-content{flex:1;padding:30px;overflow-y:auto;max-height:calc(100vh - 80px)}
        .content-box{padding:30px;max-width:1400px;margin:0 auto}
        .section{margin-bottom:40px}
        .section-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
        .section-title{font-size:22px;color:var(--pk-green);font-weight:600}
        .cards-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px}
        .card{background:#fff;border-radius:12px;padding:25px;box-shadow:0 2px 8px rgba(0,0,0,.08);cursor:pointer;border-top:4px solid var(--pk-green);transition:.3s}
        .card:hover{transform:translateY(-5px);box-shadow:0 8px 20px rgba(0,0,0,.12)}
        .card-icon{width:50px;height:50px;background:linear-gradient(135deg,var(--blue),var(--cyan));border-radius:10px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:24px;margin-bottom:15px}
        .card-title{font-size:18px;color:var(--txt);margin-bottom:10px;font-weight:600}
        .card-desc{color:var(--txt-lt);font-size:14px;line-height:1.5}
        .card-stats{display:flex;justify-content:space-between;margin-top:15px;padding-top:15px;border-top:1px solid var(--bdr)}
        .stat{text-align:center}
        .stat-value{font-size:20px;font-weight:bold;color:var(--pk-green)}
        .stat-label{font-size:12px;color:var(--txt-lt);margin-top:4px}
        .stats-row{display:grid;grid-template-columns:repeat(4,1fr);gap:20px;margin-bottom:30px}
        .stat-card{background:#fff;padding:20px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.08);border-left:4px solid var(--pk-green)}
        .stat-card-value{font-size:32px;font-weight:bold;color:var(--pk-green);margin-bottom:5px}
        .stat-card-label{color:var(--txt-lt);font-size:14px}
        .form-container{background:#fff;border-radius:12px;padding:30px;max-width:900px;margin:0 auto;box-shadow:0 2px 10px rgba(0,0,0,.08)}
        .form-header{border-bottom:2px solid var(--pk-green);padding-bottom:15px;margin-bottom:30px}
        .form-header h2{color:var(--pk-green)}
        .form-row{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}
        .form-field{display:flex;flex-direction:column}
        .form-field.full{grid-column:1/-1}
        .form-field label{margin-bottom:8px;color:var(--txt);font-weight:500}
        .form-field input,.form-field select,.form-field textarea{padding:12px;border:2px solid var(--bdr);border-radius:8px;font-size:14px}
        .form-field input:focus,.form-field select:focus,.form-field textarea:focus{outline:none;border-color:var(--blue)}
        .form-field textarea{resize:vertical;min-height:100px}
        .file-upload{border:2px dashed var(--bdr);border-radius:8px;padding:20px;text-align:center;cursor:pointer}
        .file-upload:hover{border-color:var(--blue);background:var(--lt-cyan)}
        .form-buttons{display:flex;gap:15px;justify-content:flex-end;margin-top:30px}
        .btn{padding:12px 30px;border-radius:8px;font-size:16px;font-weight:500;cursor:pointer;border:none;transition:.3s}
        .btn-primary{background:var(--pk-green);color:#fff}
        .btn-primary:hover{background:var(--dk-green)}
        .btn-secondary{background:var(--bdr);color:var(--txt)}
        .btn-secondary:hover{background:#BDBDBD}
        .table-container{background:#fff;border-radius:12px;padding:25px;box-shadow:0 2px 10px rgba(0,0,0,.08)}
        .table-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:25px;flex-wrap:wrap;gap:15px}
        .search-bar{display:flex;gap:10px}
        .search-bar input{padding:10px 15px;border:2px solid var(--bdr);border-radius:8px;width:300px}
        .filter-btn{padding:10px 20px;background:var(--blue);color:#fff;border:none;border-radius:8px;cursor:pointer}
        table{width:100%;border-collapse:collapse}
        th{background:var(--pk-green);color:#fff;padding:15px;text-align:left;font-weight:600}
        td{padding:15px;border-bottom:1px solid var(--bdr)}
        tr.pending{background:var(--ylw)}
        tr.overdue{background:var(--red)}
        tr.completed{background:var(--grn)}
        tr.ongoing{background:var(--ylw-on)}
        tr.accomplished{background:var(--grn-acc)}
        .status-badge{padding:5px 12px;border-radius:20px;font-size:12px;font-weight:600;display:inline-block}
        .status-pending{background:#FFB300;color:#fff}
        .status-overdue{background:#D32F2F;color:#fff}
        .status-completed{background:#388E3C;color:#fff}
        .status-ongoing{background:#FDD835;color:#333}
        .status-accomplished{background:#66BB6A;color:#fff}
        .action-btns{display:flex;gap:8px}
        .action-btn{padding:6px 12px;border:none;border-radius:4px;cursor:pointer;font-size:12px}
        .btn-view{background:var(--blue);color:#fff}
        .btn-edit{background:var(--cyan);color:#fff}
        .btn-delete{background:#D32F2F;color:#fff}
        .conv-hero{background:#fff;border-radius:12px;padding:40px;margin-bottom:30px;box-shadow:0 2px 10px rgba(0,0,0,.08);border-top:5px solid var(--pk-green)}
        .conv-header{display:flex;gap:30px;align-items:center;margin-bottom:30px}
        .conv-icon-lg{width:100px;height:100px;background:linear-gradient(135deg,var(--blue),var(--cyan));border-radius:20px;display:flex;align-items:center;justify-content:center;font-size:48px;color:#fff}
        .conv-title-section{flex:1}
        .conv-title{font-size:32px;color:var(--pk-green);margin-bottom:10px}
        .conv-subtitle{font-size:18px;color:var(--txt-lt);margin-bottom:5px}
        .conv-urdu{font-family:'Noto Nastaliq Urdu',Arial;direction:rtl;color:var(--txt-lt);font-size:16px}
        .key-info-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:20px;padding:25px;background:var(--lt-cyan);border-radius:12px}
        .key-info-item{text-align:center}
        .key-info-label{font-size:12px;color:var(--txt-lt);text-transform:uppercase;margin-bottom:5px}
        .key-info-value{font-size:24px;font-weight:bold;color:var(--pk-green)}
        .tabs-nav{display:flex;gap:10px;margin-bottom:30px;background:#fff;padding:10px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.08);overflow-x:auto}
        .tab-btn{padding:12px 24px;border:none;background:transparent;color:var(--txt);cursor:pointer;border-radius:8px;font-size:15px;font-weight:500;white-space:nowrap;transition:.3s}
        .tab-btn:hover{background:var(--lt-cyan)}
        .tab-btn.active{background:var(--pk-green);color:#fff}
        .tab-content{display:none}
        .tab-content.active{display:block}
        .overview-section{background:#fff;padding:30px;border-radius:12px;margin-bottom:30px;box-shadow:0 2px 8px rgba(0,0,0,.08)}
        .overview-text{line-height:1.8;color:var(--txt);margin-bottom:20px}
        .articles-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px;margin-top:20px}
        .article-card{background:#FAFAFA;padding:20px;border-radius:10px;border-left:4px solid var(--blue)}
        .article-num{font-size:14px;color:var(--blue);font-weight:bold;margin-bottom:8px}
        .article-title{font-size:16px;color:var(--txt);font-weight:600;margin-bottom:8px}
        .article-desc{font-size:14px;color:var(--txt-lt);line-height:1.5}
        .rec-container{background:#fff;padding:30px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.08);margin-bottom:30px}
        .rec-card{background:#F8F9FA;padding:25px;border-radius:10px;margin-bottom:20px;border-left:5px solid var(--pk-green);transition:.3s}
        .rec-card:hover{transform:translateX(5px)}
        .rec-header{display:flex;justify-content:space-between;align-items:start;margin-bottom:15px;flex-wrap:wrap;gap:10px}
        .rec-title{font-size:18px;color:var(--pk-green);font-weight:600}
        .priority-badge{padding:5px 12px;border-radius:20px;font-size:12px;font-weight:bold;text-transform:uppercase}
        .priority-high{background:var(--err);color:#fff}
        .priority-medium{background:var(--warn);color:#fff}
        .priority-low{background:var(--ok);color:#fff}
        .rec-details{color:var(--txt);line-height:1.6;margin-bottom:15px}
        .rec-meta{display:flex;gap:20px;flex-wrap:wrap}
        .meta-item{display:flex;align-items:center;gap:5px;color:var(--txt-lt);font-size:14px}
        .impl-status{background:#fff;padding:30px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.08)}
        .status-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-top:20px}
        .status-card{background:linear-gradient(135deg,var(--lt-cyan),#fff);padding:20px;border-radius:10px;text-align:center}
        .status-icon{width:50px;height:50px;background:var(--pk-green);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 15px;color:#fff;font-size:24px}
        .status-title{font-size:16px;color:var(--txt);font-weight:600;margin-bottom:5px}
        .status-value{font-size:28px;color:var(--pk-green);font-weight:bold}
        .progress-container{margin-top:30px}
        .progress-label{display:flex;justify-content:space-between;margin-bottom:10px}
        .progress-bar-bg{height:20px;background:var(--bdr);border-radius:10px;overflow:hidden}
        .progress-bar-fill{height:100%;background:linear-gradient(90deg,var(--ok),var(--cyan));border-radius:10px;transition:1s}
        .challenge-grid{display:grid;gap:20px;margin-top:20px}
        .challenge-item{display:flex;gap:15px;padding:20px;background:#FFF3E0;border-radius:10px;border-left:4px solid var(--warn)}
        .challenge-icon{width:40px;height:40px;background:var(--warn);border-radius:8px;display:flex;align-items:center;justify-content:center;color:#fff}
        .challenge-content{flex:1}
        .challenge-title{font-size:16px;font-weight:600;color:var(--txt);margin-bottom:5px}
        .challenge-desc{font-size:14px;color:var(--txt-lt);line-height:1.5}
        .resources-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;margin-top:20px}
        .resource-link{display:flex;align-items:center;gap:10px;padding:15px;background:#fff;border:2px solid var(--bdr);border-radius:10px;text-decoration:none;color:var(--txt);transition:.3s}
        .resource-link:hover{border-color:var(--blue);transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.1)}
        .resource-icon{font-size:24px}
        .resource-text{flex:1}
        .resource-title{font-weight:600;margin-bottom:2px}
        .resource-type{font-size:12px;color:var(--txt-lt)}
        .record-detail{background:#fff;border-radius:12px;padding:30px;max-width:1000px;margin:0 auto;box-shadow:0 2px 10px rgba(0,0,0,.08)}
        .record-header{display:flex;justify-content:space-between;align-items:start;margin-bottom:30px;padding-bottom:20px;border-bottom:2px solid var(--bdr);flex-wrap:wrap;gap:20px}
        .record-title-section h1{color:var(--pk-green);margin-bottom:10px}
        .record-meta{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
        .meta-tag{padding:5px 12px;background:var(--lt-cyan);border-radius:20px;font-size:13px;color:var(--txt)}
        .record-content{display:grid;gap:25px}
        .content-section{padding:20px;background:#FAFAFA;border-radius:10px;border-left:4px solid var(--blue)}
        .content-section h3{color:var(--pk-green);margin-bottom:15px}
        .detail-grid{display:grid;grid-template-columns:1fr 2fr;gap:15px}
        .detail-label{font-weight:600;color:var(--txt-lt)}
        .detail-value{color:var(--txt)}
        .filter-section{background:#fff;padding:20px;border-radius:12px;margin-bottom:30px;box-shadow:0 2px 8px rgba(0,0,0,.08)}
        .filter-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:15px;margin-bottom:20px}
        .filter-field{display:flex;flex-direction:column;gap:5px}
        .filter-field label{font-size:13px;color:var(--txt-lt);font-weight:500}
        .filter-field select,.filter-field input{padding:8px 12px;border:1px solid var(--bdr);border-radius:6px;font-size:14px}
        .chart-container{background:#fff;padding:20px;border-radius:12px;margin-bottom:30px;box-shadow:0 2px 8px rgba(0,0,0,.08)}
        .chart-title{font-size:18px;color:var(--pk-green);margin-bottom:15px;font-weight:600}
        .charts-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(450px,1fr));gap:30px;margin-bottom:30px}
        .chart-wrapper{position:relative;height:300px}
        .data-table{width:100%;margin-top:20px}
        .data-table th{background:var(--blue);color:#fff;padding:12px;text-align:left}
        .data-table td{padding:10px;border-bottom:1px solid var(--bdr)}
        .data-table tr:nth-child(even){background:#F5F5F5}
        .ai-prompt-section{background:#fff;padding:30px;border-radius:12px;margin-bottom:30px;box-shadow:0 2px 8px rgba(0,0,0,.08)}
        .prompt-input{width:100%;padding:15px;border:2px solid var(--bdr);border-radius:8px;font-size:16px;resize:vertical;min-height:100px;margin-bottom:20px}
        .generate-btn{padding:15px 30px;background:linear-gradient(135deg,var(--blue),var(--cyan));color:#fff;border:none;border-radius:8px;font-size:16px;font-weight:bold;cursor:pointer;transition:.3s}
        .generate-btn:hover{transform:translateY(-2px);box-shadow:0 5px 15px rgba(0,0,0,.2)}
        .ai-report-output{background:#fff;padding:30px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.08)}
        .report-section{margin-bottom:30px}
        .report-section h3{color:var(--pk-green);margin-bottom:15px;padding-bottom:10px;border-bottom:2px solid var(--bdr)}
        .show{display:flex!important}
        .show-block{display:block!important}
        @media(max-width:768px){
            .sidebar{position:fixed;left:-280px;transition:.3s;z-index:1000}
            .sidebar.active{left:0}
            .main-content,.content-box{padding:20px}
            .cards-grid,.charts-grid{grid-template-columns:1fr}
            .form-row{grid-template-columns:1fr}
            .stats-row{grid-template-columns:1fr 1fr}
            .conv-header{flex-direction:column;text-align:center}
            .key-info-grid{grid-template-columns:1fr 1fr}
            .detail-grid{grid-template-columns:1fr}
        }
    `;

    let currentScreen = 'login';
    let currentConvention = null;
    let charts = {};

    function render() {
        document.getElementById('app').innerHTML = `
            <style>${STYLES}</style>
            <div class="lang-toggle">
                <button class="lang-btn active" onclick="toggleLang('en')">English</button>
                <button class="lang-btn" onclick="toggleLang('ur')">Ø§Ø±Ø¯Ùˆ</button>
            </div>
            ${renderLogin()}
            ${renderDashboard()}
            ${renderRequestForm()}
            ${renderViewRequests()}
            ${renderAddRecord()}
            ${renderViewRecords()}
            ${renderSingleRecord()}
            ${renderAnalysis()}
            ${renderReports()}
            ${APP_CONFIG.conventions.map(c => renderConventionPage(c)).join('')}
        `;
        showScreen('login');
    }

    function renderLogin() {
        return `
        <div class="login-container" id="loginScreen">
            <div class="login-box">
                <div class="logo">HRIS</div>
                <h1 class="sys-title">Human Rights Information System</h1>
                <p class="sys-sub">Islamic Republic of Pakistan</p>
                <p class="urdu">Ø§Ø³Ù„Ø§Ù…ÛŒ Ø¬Ù…ÛÙˆØ±ÛŒÛ Ù¾Ø§Ú©Ø³ØªØ§Ù†</p>
                <br>
                <div class="form-grp">
                    <label>Username / ØµØ§Ø±Ù Ù†Ø§Ù…</label>
                    <input type="text" placeholder="Enter username">
                </div>
                <div class="form-grp">
                    <label>Password / Ù¾Ø§Ø³ ÙˆØ±Úˆ</label>
                    <input type="password" placeholder="Enter password">
                </div>
                <button class="login-btn" onclick="showScreen('dashboard')">Login / Ø¯Ø§Ø®Ù„ ÛÙˆÚº</button>
            </div>
        </div>`;
    }

    function renderDashboard() {
        return `
        <div class="screen" id="dashboardScreen">
            <header class="header">
                <div class="header-content">
                    <h1>Human Rights Information Management System</h1>
                    <div class="user-info">
                        <span>Welcome, Admin</span>
                        <button class="btn btn-secondary" onclick="showScreen('login')">Logout</button>
                    </div>
                </div>
            </header>
            <div class="main-layout">
                <nav class="sidebar">
                    <div class="nav-menu">
                        <a class="nav-item active" onclick="showScreen('dashboard')">ğŸ“Š Dashboard</a>
                        <a class="nav-item">ğŸ“¨ Request</a>
                        <div class="nav-sub">
                            <a class="nav-item" onclick="showScreen('requestForm')">â• Send Request</a>
                            <a class="nav-item" onclick="showScreen('viewRequests')">ğŸ‘ï¸ View Requests</a>
                        </div>
                        <a class="nav-item">ğŸ“ Records</a>
                        <div class="nav-sub">
                            <a class="nav-item" onclick="showScreen('addRecord')">â• Add Record</a>
                            <a class="nav-item" onclick="showScreen('viewRecords')">ğŸ‘ï¸ View Records</a>
                        </div>
                        <a class="nav-item" onclick="showScreen('analysis')">ğŸ“ˆ Analysis</a>
                        <a class="nav-item" onclick="showScreen('reports')">ğŸ“‘ Reports</a>
                    </div>
                </nav>
                <main class="main-content">
                    <div class="stats-row">
                        <div class="stat-card"><div class="stat-card-value">156</div><div class="stat-card-label">Total Requests</div></div>
                        <div class="stat-card"><div class="stat-card-value">42</div><div class="stat-card-label">Pending</div></div>
                        <div class="stat-card"><div class="stat-card-value">98</div><div class="stat-card-label">Completed</div></div>
                        <div class="stat-card"><div class="stat-card-value">16</div><div class="stat-card-label">Overdue</div></div>
                    </div>
                    <section class="section">
                        <div class="section-header"><h2 class="section-title">Seven Core Human Rights Conventions</h2></div>
                        <div class="cards-grid">
                            ${APP_CONFIG.conventions.map(c => `
                                <div class="card" onclick="showConvention('${c.id}')">
                                    <div class="card-icon">${c.icon}</div>
                                    <h3 class="card-title">${c.title}</h3>
                                    <p class="card-desc">${c.fullName}</p>
                                    <div class="card-stats">
                                        <div class="stat"><div class="stat-value">${c.articles}</div><div class="stat-label">Articles</div></div>
                                        <div class="stat"><div class="stat-value">${c.ratified}</div><div class="stat-label">Ratified</div></div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </section>
                    <section class="section">
                        <div class="section-header"><h2 class="section-title">Human Rights Indicators</h2></div>
                        <div class="cards-grid">
                            ${APP_CONFIG.indicators.map(i => `
                                <div class="card">
                                    <div class="card-icon">${i.icon}</div>
                                    <h3 class="card-title">${i.title}</h3>
                                    <p class="card-desc">${i.desc}</p>
                                    <div class="card-stats">
                                        <div class="stat"><div class="stat-value">${i.v1}</div><div class="stat-label">${i.l1}</div></div>
                                        <div class="stat"><div class="stat-value">${i.v2}</div><div class="stat-label">${i.l2}</div></div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </section>
                    <section class="section">
                        <div class="section-header"><h2 class="section-title">Sustainable Development Goals - Pakistan</h2></div>
                        <div class="cards-grid">
                            ${APP_CONFIG.sdgs.map(s => `
                                <div class="card">
                                    <div class="card-icon">${s.icon}</div>
                                    <h3 class="card-title">${s.title}</h3>
                                    <p class="card-desc">${s.desc}</p>
                                    <div class="card-stats">
                                        <div class="stat"><div class="stat-value">${s.v1}</div><div class="stat-label">${s.l1}</div></div>
                                        <div class="stat"><div class="stat-value">${s.v2}</div><div class="stat-label">${s.l2}</div></div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </section>
                    <section class="section">
                        <div class="section-header"><h2 class="section-title">Universal Periodic Review - Pakistan (4th Cycle)</h2></div>
                        <div class="cards-grid">
                            <div class="card"><div class="card-icon">ğŸ“Š</div><h3 class="card-title">Total Recommendations</h3><p class="card-desc">Received in latest cycle</p><div class="card-stats"><div class="stat"><div class="stat-value">302</div><div class="stat-label">Total</div></div><div class="stat"><div class="stat-value">2023</div><div class="stat-label">Year</div></div></div></div>
                            <div class="card"><div class="card-icon">âœ…</div><h3 class="card-title">Accepted</h3><p class="card-desc">For implementation</p><div class="card-stats"><div class="stat"><div class="stat-value">253</div><div class="stat-label">Accepted</div></div><div class="stat"><div class="stat-value">83.7%</div><div class="stat-label">Rate</div></div></div></div>
                            <div class="card"><div class="card-icon">ğŸ“</div><h3 class="card-title">Noted</h3><p class="card-desc">For consideration</p><div class="card-stats"><div class="stat"><div class="stat-value">49</div><div class="stat-label">Noted</div></div><div class="stat"><div class="stat-value">16.3%</div><div class="stat-label">Rate</div></div></div></div>
                            <div class="card"><div class="card-icon">âš¡</div><h3 class="card-title">Implementation</h3><p class="card-desc">Current progress</p><div class="card-stats"><div class="stat"><div class="stat-value">45%</div><div class="stat-label">Progress</div></div><div class="stat"><div class="stat-value">114</div><div class="stat-label">Done</div></div></div></div>
                        </div>
                    </section>
                </main>
            </div>
        </div>`;
    }

    function renderRequestForm() {
        return `
        <div class="screen" id="requestFormScreen">
            <header class="header"><div class="header-content"><button class="back-btn" onclick="showScreen('dashboard')">â† Back to Dashboard</button><h1>Submit New Request</h1></div></header>
            <div class="content-box">
                <div class="form-container">
                    <div class="form-header"><h2>Submit New Request / Ù†Ø¦ÛŒ Ø¯Ø±Ø®ÙˆØ§Ø³Øª</h2></div>
                    <form>
                        <div class="form-row">
                            <div class="form-field"><label>Request ID</label><input type="text" value="REQ-2024-0156" readonly style="background:#F5F5F5"></div>
                            <div class="form-field"><label>Title / Ø¹Ù†ÙˆØ§Ù† *</label><input type="text" placeholder="Enter request title"></div>
                        </div>
                        <div class="form-row">
                            <div class="form-field"><label>Convention *</label><select><option>Select Convention</option>${APP_CONFIG.conventions.map(c=>`<option>${c.title}</option>`).join('')}</select></div>
                            <div class="form-field"><label>Province / ØµÙˆØ¨Û *</label><select><option>Select Province</option><option>Punjab</option><option>Sindh</option><option>KPK</option><option>Balochistan</option><option>GB</option><option>AJK</option><option>Islamabad</option></select></div>
                        </div>
                        <div class="form-row">
                            <div class="form-field"><label>Due Date *</label><input type="date"></div>
                            <div class="form-field"><label>Priority</label><select><option>Normal</option><option>High</option><option>Urgent</option></select></div>
                        </div>
                        <div class="form-row">
                            <div class="form-field full"><label>Details *</label><textarea placeholder="Enter details"></textarea></div>
                        </div>
                        <div class="form-row">
                            <div class="form-field full"><label>File Upload</label><div class="file-upload">ğŸ“ Click to upload (PDF, DOC, JPG, PNG - Max 10MB)</div></div>
                        </div>
                        <div class="form-buttons">
                            <button type="button" class="btn btn-secondary" onclick="showScreen('dashboard')">Cancel</button>
                            <button type="button" class="btn btn-primary" onclick="showScreen('viewRequests')">Submit</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>`;
    }

    function renderViewRequests() {
        return `
        <div class="screen" id="viewRequestsScreen">
            <header class="header"><div class="header-content"><button class="back-btn" onclick="showScreen('dashboard')">â† Back to Dashboard</button><h1>All Requests</h1></div></header>
            <div class="content-box">
                <div class="table-container">
                    <div class="table-header">
                        <h2>All Requests / ØªÙ…Ø§Ù… Ø¯Ø±Ø®ÙˆØ§Ø³ØªÛŒÚº</h2>
                        <div class="search-bar">
                            <input type="text" placeholder="Search...">
                            <button class="filter-btn">ğŸ” Filter</button>
                            <button class="btn btn-primary" onclick="showScreen('requestForm')">+ New Request</button>
                        </div>
                    </div>
                    <table>
                        <thead><tr><th>ID</th><th>Title</th><th>Convention</th><th>Province</th><th>Due Date</th><th>Status</th><th>Actions</th></tr></thead>
                        <tbody>
                            ${APP_CONFIG.requests.map(r => `
                                <tr class="${r.status}">
                                    <td>${r.id}</td><td>${r.title}</td><td>${r.conv}</td><td>${r.prov}</td><td>${r.date}</td>
                                    <td><span class="status-badge status-${r.status}">${r.status.charAt(0).toUpperCase()+r.status.slice(1)}</span></td>
                                    <td><div class="action-btns"><button class="action-btn btn-view">View</button><button class="action-btn btn-edit">Edit</button><button class="action-btn btn-delete">Delete</button></div></td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>`;
    }

    function renderAddRecord() {
        return `
        <div class="screen" id="addRecordScreen">
            <header class="header"><div class="header-content"><button class="back-btn" onclick="showScreen('dashboard')">â† Back to Dashboard</button><h1>Add New Record</h1></div></header>
            <div class="content-box">
                <div class="form-container">
                    <div class="form-header"><h2>Add New Record / Ù†ÛŒØ§ Ø±ÛŒÚ©Ø§Ø±Úˆ</h2></div>
                    <form>
                        <div class="form-row">
                            <div class="form-field"><label>Request No</label><input type="text" value="REC-2024-0089" readonly style="background:#F5F5F5"></div>
                            <div class="form-field"><label>Title *</label><input type="text" placeholder="Enter title"></div>
                        </div>
                        <div class="form-row">
                            <div class="form-field"><label>Convention *</label><select id="convSelect" onchange="updateFields()"><option value="">Select Convention</option>${APP_CONFIG.conventions.map(c=>`<option value="${c.id}">${c.title}</option>`).join('')}</select></div>
                            <div class="form-field"><label>Recommendation *</label><select id="recSelect"><option>Select Recommendation</option></select></div>
                        </div>
                        <div class="form-row">
                            <div class="form-field"><label>Thematic Area</label><input type="text" id="thematicArea" readonly style="background:#F5F5F5"></div>
                            <div class="form-field"><label>UPR Recommendation</label><select id="uprSelect"><option>Auto-selected</option></select></div>
                        </div>
                        <div class="form-row">
                            <div class="form-field"><label>SDG Goal</label><select id="sdgSelect"><option>Auto-selected</option></select></div>
                            <div class="form-field"><label>Human Rights Indicator</label><select id="hriSelect"><option>Auto-selected</option></select></div>
                        </div>
                        <div class="form-row">
                            <div class="form-field"><label>Relevant Date *</label><input type="date"></div>
                            <div class="form-field"><label>Accomplishment Date</label><input type="date"></div>
                        </div>
                        <div class="form-row">
                        
                            <div class="form-field full"><label>Status *</label><select><option value="ongoing">Ongoing</option><option value="accomplished">Accomplished</option></select></div>
                        </div>
                        <div class="form-row">
                            <div class="form-field full"><label>Description *</label><textarea placeholder="Enter description"></textarea></div>
                        </div>
                        <div class="form-row">
                            <div class="form-field"><label>Documents</label><div class="file-upload">ğŸ“ Click to upload</div></div>
                            <div class="form-field"><label>Links</label><input type="url" placeholder="https://example.com"><button type="button" class="btn btn-secondary" style="margin-top:10px;padding:8px 16px;font-size:14px">+ Add Link</button></div>
                        </div>
                        <div class="form-buttons">
                            <button type="button" class="btn btn-secondary" onclick="showScreen('dashboard')">Cancel</button>
                            <button type="button" class="btn btn-primary" onclick="showScreen('viewRecords')">Save Record</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>`;
    }

    function renderViewRecords() {
        return `
        <div class="screen" id="viewRecordsScreen">
            <header class="header"><div class="header-content"><button class="back-btn" onclick="showScreen('dashboard')">â† Back to Dashboard</button><h1>All Records</h1></div></header>
            <div class="content-box">
                <div class="table-container">
                    <div class="table-header">
                        <h2>All Records / ØªÙ…Ø§Ù… Ø±ÛŒÚ©Ø§Ø±ÚˆØ²</h2>
                        <div class="search-bar">
                            <input type="text" placeholder="Search...">
                            <button class="filter-btn">ğŸ” Filter</button>
                            <button class="btn btn-primary" onclick="showScreen('addRecord')">+ New Record</button>
                        </div>
                    </div>
                    <table>
                        <thead><tr><th>Request No</th><th>Title</th><th>Convention</th><th>Thematic Area</th><th>Status</th><th>Date</th><th>Actions</th></tr></thead>
                        <tbody>
                            ${APP_CONFIG.records.map(r => `
                                <tr class="${r.status}">
                                    <td>${r.id}</td><td>${r.title}</td><td>${r.conv}</td><td>${r.area}</td>
                                    <td><span class="status-badge status-${r.status}">${r.status.charAt(0).toUpperCase()+r.status.slice(1)}</span></td>
                                    <td>${r.date}</td>
                                    <td><div class="action-btns"><button class="action-btn btn-view" onclick="showScreen('singleRecord')">View</button><button class="action-btn btn-edit">Edit</button><button class="action-btn btn-delete">Delete</button></div></td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>`;
    }

    function renderSingleRecord() {
        return `
        <div class="screen" id="singleRecordScreen">
            <header class="header"><div class="header-content"><button class="back-btn" onclick="showScreen('viewRecords')">â† Back to Records</button><h1>Record Details</h1></div></header>
            <div class="content-box">
                <div class="record-detail">
                    <div class="record-header">
                        <div class="record-title-section">
                            <h1>Women Economic Empowerment Program</h1>
                            <div class="record-meta">
                                <span class="meta-tag">REC-2024-0081</span>
                                <span class="meta-tag">CEDAW</span>
                                <span class="meta-tag" style="background:var(--grn-acc);color:#fff">Accomplished</span>
                            </div>
                        </div>
                        <div class="action-btns">
                            <button class="btn btn-primary">Edit</button>
                            <button class="btn btn-secondary">Print</button>
                        </div>
                    </div>
                    <div class="record-content">
                        <div class="content-section">
                            <h3>Basic Information</h3>
                            <div class="detail-grid">
                                <div class="detail-label">Convention:</div><div class="detail-value">CEDAW - Convention on the Elimination of All Forms of Discrimination against Women</div>
                                <div class="detail-label">Recommendation:</div><div class="detail-value">Increase women participation in economic activities</div>
                                <div class="detail-label">Thematic Area:</div><div class="detail-value">Women Rights</div>
                                <div class="detail-label">UPR Recommendation:</div><div class="detail-value">UPR 4th Cycle - Rec 152.78</div>
                                <div class="detail-label">SDG Goal:</div><div class="detail-value">Goal 5: Gender Equality</div>
                                <div class="detail-label">Human Rights Indicator:</div><div class="detail-value">Right to Health</div>
                                <div class="detail-label">Status:</div><div class="detail-value"><span class="status-badge status-accomplished">Accomplished</span></div>
                            </div>
                        </div>
                        <div class="content-section">
                            <h3>Timeline</h3>
                            <div class="detail-grid">
                                <div class="detail-label">Relevant Date:</div><div class="detail-value">15 January 2024</div>
                                <div class="detail-label">Accomplishment Date:</div><div class="detail-value">10 March 2024</div>
                            </div>
                        </div>
                        <div class="content-section">
                            <h3>Description</h3>
                            <p style="line-height:1.8">The Women Economic Empowerment Program was launched to address the gender gap in economic participation across Pakistan. This initiative included skill development training for over 10,000 women, microfinance facilities for women entrepreneurs, and policy reforms. The program achieved its targets, resulting in a 25% increase in women workforce participation.</p>
                        </div>
                        <div class="content-section">
                            <h3>Documents & Links</h3>
                            <div class="resources-grid">
                                <a href="#" class="resource-link"><span class="resource-icon">ğŸ“„</span><div class="resource-text"><div class="resource-title">Program Report 2024</div><div class="resource-type">PDF Document</div></div></a>
                                <a href="#" class="resource-link"><span class="resource-icon">ğŸ”—</span><div class="resource-text"><div class="resource-title">Official Website</div><div class="resource-type">External Link</div></div></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>`;
    }

    function renderAnalysis() {
        return `
        <div class="screen" id="analysisScreen">
            <header class="header"><div class="header-content"><button class="back-btn" onclick="showScreen('dashboard')">â† Back to Dashboard</button><h1>Data Analysis</h1></div></header>
            <div class="content-box">
                <div class="filter-section">
                    <h3 style="color:var(--pk-green);margin-bottom:20px">Filters</h3>
                    <div class="filter-row">
                        <div class="filter-field"><label>Convention</label><select><option value="">All</option>${APP_CONFIG.conventions.map(c=>`<option>${c.title}</option>`).join('')}</select></div>
                        <div class="filter-field"><label>Status</label><select><option value="">All</option><option>Ongoing</option><option>Accomplished</option></select></div>
                        <div class="filter-field"><label>Date From</label><input type="date"></div>
                        <div class="filter-field"><label>Date To</label><input type="date"></div>
                        <div class="filter-field"><label>HRI</label><select><option value="">All</option><option>Right to Health</option><option>Right to Education</option><option>Goal 4</option><option>Right to Work</option><option>Right to Housing</option><option>Right to Food</option></select></div>
                        <div class="filter-field"><label>SDG Goal</label><select><option value="">All</option><option>Goal 1</option><option>Goal 3</option><option>Goal 4</option><option>Goal 5</option><option>Goal 10</option><option>Goal 16</option></select></div>
                        <div class="filter-field"><label>Province</label><select><option value="">All</option><option>Punjab</option><option>Sindh</option><option>KPK</option><option>Balochistan</option><option>GB</option><option>AJK</option><option>Islamabad</option></select></div>
                    </div>
                    <div style="text-align:right;margin-top:20px">
                        <button class="btn btn-primary" onclick="initCharts()">Apply Filters</button>
                        <button class="btn btn-secondary">Reset</button>
                    </div>
                </div>
                <div class="charts-grid">
                    <div class="chart-container"><h3 class="chart-title">Records by Convention</h3><div class="chart-wrapper"><canvas id="convChart"></canvas></div></div>
                    <div class="chart-container"><h3 class="chart-title">Status Distribution</h3><div class="chart-wrapper"><canvas id="statusChart"></canvas></div></div>
                    <div class="chart-container"><h3 class="chart-title">Monthly Progress</h3><div class="chart-wrapper"><canvas id="timelineChart"></canvas></div></div>
                    <div class="chart-container"><h3 class="chart-title">SDG Goals Coverage</h3><div class="chart-wrapper"><canvas id="sdgChart"></canvas></div></div>
                    <div class="chart-container"><h3 class="chart-title">Provincial Distribution</h3><div class="chart-wrapper"><canvas id="provChart"></canvas></div></div>
                </div>
                <div class="chart-container">
                    <h3 class="chart-title">Data Summary</h3>
                    <table class="data-table">
                        <thead><tr><th>Category</th><th>Total</th><th>Ongoing</th><th>Accomplished</th><th>Success Rate</th></tr></thead>
                        <tbody>
                            <tr><td>ICERD</td><td>45</td><td>18</td><td>27</td><td>60%</td></tr>
                            <tr><td>ICCPR</td><td>38</td><td>15</td><td>23</td><td>61%</td></tr>
                            <tr><td>ICESCR</td><td>31</td><td>12</td><td>19</td><td>61%</td></tr>
                            <tr><td>CEDAW</td><td>52</td><td>20</td><td>32</td><td>62%</td></tr>
                            <tr><td>CAT</td><td>28</td><td>12</td><td>16</td><td>57%</td></tr>
                            <tr><td>CRC</td><td>41</td><td>19</td><td>22</td><td>54%</td></tr>
                            <tr><td>CRPD</td><td>35</td><td>16</td><td>19</td><td>54%</td></tr>
                            <tr style="font-weight:bold;background:var(--lt-cyan)"><td>Total</td><td>270</td><td>112</td><td>158</td><td>59%</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>`;
    }

    function renderReports() {
        return `
        <div class="screen" id="reportsScreen">
            <header class="header"><div class="header-content"><button class="back-btn" onclick="showScreen('dashboard')">â† Back to Dashboard</button><h1>AI-Powered Reports</h1></div></header>
            <div class="content-box">
                <div class="ai-prompt-section">
                    <h3 style="color:var(--pk-green);margin-bottom:20px">Generate Report with AI</h3>
                    <textarea class="prompt-input" id="promptInput" placeholder="Enter your report request...&#10;Example: Generate a comprehensive report on women's rights implementation progress in Pakistan for 2024"></textarea>
                    <button class="generate-btn" onclick="generateReport()">ğŸ¤– Generate Report</button>
                    <div style="margin-top:20px">
                        <h4>Quick Prompts:</h4>
                        <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
                            <button class="btn btn-secondary" onclick="setPrompt(1)">Annual Progress</button>
                            <button class="btn btn-secondary" onclick="setPrompt(2)">Compliance Status</button>
                            <button class="btn btn-secondary" onclick="setPrompt(5)">HRI Analysis</button>
                            <button class="btn btn-secondary" onclick="setPrompt(3)">SDG Analysis</button>
                            <button class="btn btn-secondary" onclick="setPrompt(4)">Provincial Comparison</button>
                        </div>
                    </div>
                </div>
                <div class="ai-report-output" id="reportOutput" style="display:none">
                    <h2 style="color:var(--pk-green);margin-bottom:30px">Generated Report: Human Rights Implementation 2024</h2>
                    <div class="report-section">
                        <h3>Executive Summary</h3>
                        <p style="line-height:1.8">Pakistan has made significant strides in implementing human rights initiatives during 2024. Analysis shows 270 recorded initiatives across all conventions, with 158 (59%) accomplished and 112 ongoing. Key progress areas include women's rights, child protection, and disability inclusion.</p>
                    </div>
                    <div class="report-section">
                        <h3>Key Findings</h3>
                        <ul style="line-height:1.8;padding-left:20px">
                            <li>Women workforce participation increased by 25%</li>
                            <li>Girls education enrollment reached 78%</li>
                            <li>45 new women protection centers established</li>
                            <li>Child labor reduced by 15% in targeted areas</li>
                            <li>Disability accessibility improved in 120 public buildings</li>
                        </ul>
                    </div>
                    <div class="report-section">
                        <h3>Progress Chart</h3>
                        <div class="chart-wrapper" style="height:300px"><canvas id="reportChart"></canvas></div>
                    </div>
                    <div class="report-section">
                        <h3>Recommendations</h3>
                        <ol style="line-height:1.8;padding-left:20px">
                            <li><strong>Rural Outreach:</strong> Expand programs to remote areas</li>
                            <li><strong>Legislative Reform:</strong> Fast-track pending bills</li>
                            <li><strong>Education Access:</strong> Address enrollment gaps</li>
                            <li><strong>Data Systems:</strong> Improve monitoring mechanisms</li>
                        </ol>
                    </div>
                    <div style="text-align:right;margin-top:30px">
                        <button class="btn btn-primary">ğŸ“¥ Download</button>
                        <button class="btn btn-secondary">ğŸ–¨ï¸ Print</button>
                    </div>
                </div>
            </div>
        </div>`;
    }

    function renderConventionPage(conv) {
        const impl = parseInt(conv.implementation);
        const total = 48;
        const done = Math.floor(total * impl / 100);
        const prog = Math.floor((total - done) * 0.7);
        const pend = total - done - prog;

        return `
        <div class="screen" id="${conv.id}Screen">
            <header class="header"><div class="header-content"><button class="back-btn" onclick="showScreen('dashboard')">â† Back to Dashboard</button><h1>Convention Details</h1></div></header>
            <div class="content-box">
                <div class="conv-hero">
                    <div class="conv-header">
                        <div class="conv-icon-lg">${conv.icon}</div>
                        <div class="conv-title-section">
                            <h1 class="conv-title">${conv.title}</h1>
                            <p class="conv-subtitle">${conv.fullName}</p>
                            <p class="conv-urdu">${conv.urdu}</p>
                        </div>
                    </div>
                    <div class="key-info-grid">
                        <div class="key-info-item"><div class="key-info-label">Adopted</div><div class="key-info-value">${conv.adopted}</div></div>
                        <div class="key-info-item"><div class="key-info-label">Ratified</div><div class="key-info-value">${conv.ratified}</div></div>
                        <div class="key-info-item"><div class="key-info-label">Articles</div><div class="key-info-value">${conv.articles}</div></div>
                        <div class="key-info-item"><div class="key-info-label">Implementation</div><div class="key-info-value">${conv.implementation}%</div></div>
                    </div>
                </div>
                <div class="tabs-nav">
                    <button class="tab-btn active" onclick="showTab('${conv.id}','overview')">Overview</button>
                    <button class="tab-btn" onclick="showTab('${conv.id}','recommendations')">Recommendations</button>
                    <button class="tab-btn" onclick="showTab('${conv.id}','implementation')">Implementation</button>
                    <button class="tab-btn" onclick="showTab('${conv.id}','challenges')">Challenges</button>
                    <button class="tab-btn" onclick="showTab('${conv.id}','resources')">Resources</button>
                </div>
                <div class="tab-content active" id="${conv.id}-overview">
                    <div class="overview-section">
                        <h2 class="section-title">Convention Overview</h2>
                        <p class="overview-text">${conv.fullName} is a key international human rights treaty that Pakistan has ratified. The convention establishes standards and obligations for the protection and promotion of specific rights within its scope.</p>
                        <p class="overview-text">In the Pakistani context, this convention is particularly relevant for ensuring the protection of vulnerable groups and promoting equal treatment of all citizens in accordance with international standards.</p>
                        <h3 style="margin:30px 0 20px;color:var(--pk-green)">Key Articles</h3>
                        <div class="articles-grid">
                            <div class="article-card"><div class="article-num">Article 2</div><div class="article-title">State Obligations</div><div class="article-desc">General obligations to respect and ensure rights</div></div>
                            <div class="article-card"><div class="article-num">Article 5</div><div class="article-title">Equal Rights</div><div class="article-desc">Guarantee of equality before the law</div></div>
                            <div class="article-card"><div class="article-num">Article 7</div><div class="article-title">Education</div><div class="article-desc">Measures in education and awareness</div></div>
                        </div>
                    </div>
                </div>
                <div class="tab-content" id="${conv.id}-recommendations">
                    <div class="rec-container">
                        <h2 class="section-title">Pakistan-Specific Recommendations</h2>
                        <div class="rec-card"><div class="rec-header"><h3 class="rec-title">Legislative Framework Enhancement</h3><span class="priority-badge priority-high">High Priority</span></div><p class="rec-details">Enact comprehensive legislation to strengthen implementation mechanisms and address gaps in current legal framework.</p><div class="rec-meta"><span class="meta-item">ğŸ“… 2024-2025</span><span class="meta-item">ğŸ›ï¸ Ministry of Law</span><span class="meta-item">ğŸ“Š In Progress</span></div></div>
                        <div class="rec-card"><div class="rec-header"><h3 class="rec-title">Protection Mechanisms</h3><span class="priority-badge priority-high">High Priority</span></div><p class="rec-details">Strengthen mechanisms to protect vulnerable groups and ensure equal access to services.</p><div class="rec-meta"><span class="meta-item">ğŸ“… Ongoing</span><span class="meta-item">ğŸ›ï¸ Ministry of Human Rights</span><span class="meta-item">ğŸ“Š Active</span></div></div>
                        <div class="rec-card"><div class="rec-header"><h3 class="rec-title">Data Collection</h3><span class="priority-badge priority-medium">Medium Priority</span></div><p class="rec-details">Establish comprehensive data collection systems to monitor implementation progress.</p><div class="rec-meta"><span class="meta-item">ğŸ“… 2024-2026</span><span class="meta-item">ğŸ›ï¸ PBS</span><span class="meta-item">ğŸ“Š Planning</span></div></div>
                    </div>
                </div>
                <div class="tab-content" id="${conv.id}-implementation">
                    <div class="impl-status">
                        <h2 class="section-title">Implementation Status</h2>
                        <div class="status-grid">
                            <div class="status-card"><div class="status-icon">ğŸ“‹</div><div class="status-title">Total Recommendations</div><div class="status-value">${total}</div></div>
                            <div class="status-card"><div class="status-icon">âœ…</div><div class="status-title">Implemented</div><div class="status-value">${done}</div></div>
                            <div class="status-card"><div class="status-icon">â³</div><div class="status-title">In Progress</div><div class="status-value">${prog}</div></div>
                            <div class="status-card"><div class="status-icon">ğŸ“</div><div class="status-title">Pending</div><div class="status-value">${pend}</div></div>
                        </div>
                        <div class="progress-container">
                            <div class="progress-label"><span>Overall Progress</span><span style="font-weight:bold;color:var(--pk-green)">${conv.implementation}%</span></div>
                            <div class="progress-bar-bg"><div class="progress-bar-fill" style="width:${conv.implementation}%"></div></div>
                        </div>
                        <h3 style="margin:30px 0 20px;color:var(--pk-green)">Provincial Status</h3>
                        <div class="status-grid">
                            <div class="status-card"><div class="status-title">Punjab</div><div class="status-value">${impl+6}%</div></div>
                            <div class="status-card"><div class="status-title">Sindh</div><div class="status-value">${impl+3}%</div></div>
                            <div class="status-card"><div class="status-title">KPK</div><div class="status-value">${impl-4}%</div></div>
                            <div class="status-card"><div class="status-title">Balochistan</div><div class="status-value">${impl-7}%</div></div>
                        </div>
                    </div>
                </div>
                <div class="tab-content" id="${conv.id}-challenges">
                    <div class="overview-section">
                        <h2 class="section-title">Key Challenges</h2>
                        <div class="challenge-grid">
                            <div class="challenge-item"><div class="challenge-icon">âš ï¸</div><div class="challenge-content"><div class="challenge-title">Legislative Gaps</div><div class="challenge-desc">Absence of comprehensive legislation addressing all aspects of the convention.</div></div></div>
                            <div class="challenge-item"><div class="challenge-icon">âš ï¸</div><div class="challenge-content"><div class="challenge-title">Limited Awareness</div><div class="challenge-desc">Low public awareness about rights and available remedies.</div></div></div>
                            <div class="challenge-item"><div class="challenge-icon">âš ï¸</div><div class="challenge-content"><div class="challenge-title">Resource Constraints</div><div class="challenge-desc">Insufficient allocation of resources for implementation.</div></div></div>
                            <div class="challenge-item"><div class="challenge-icon">âš ï¸</div><div class="challenge-content"><div class="challenge-title">Monitoring Gaps</div><div class="challenge-desc">Lack of systematic data collection and monitoring mechanisms.</div></div></div>
                        </div>
                    </div>
                </div>
                <div class="tab-content" id="${conv.id}-resources">
                    <div class="overview-section">
                        <h2 class="section-title">Resources & Documents</h2>
                        <div class="resources-grid">
                            <a href="#" class="resource-link"><span class="resource-icon">ğŸ“„</span><div class="resource-text"><div class="resource-title">${conv.title} Full Text</div><div class="resource-type">Official Document</div></div></a>
                            <a href="#" class="resource-link"><span class="resource-icon">ğŸ“Š</span><div class="resource-text"><div class="resource-title">Pakistan's Report</div><div class="resource-type">State Report 2023</div></div></a>
                            <a href="#" class="resource-link"><span class="resource-icon">ğŸ“‘</span><div class="resource-text"><div class="resource-title">Committee Observations</div><div class="resource-type">UN Recommendations</div></div></a>
                            <a href="#" class="resource-link"><span class="resource-icon">ğŸ“š</span><div class="resource-text"><div class="resource-title">Implementation Guide</div><div class="resource-type">Training Material</div></div></a>
                            <a href="#" class="resource-link"><span class="resource-icon">ğŸ“</span><div class="resource-text"><div class="resource-title">Awareness Materials</div><div class="resource-type">Public Education</div></div></a>
                            <a href="#" class="resource-link"><span class="resource-icon">âš–ï¸</span><div class="resource-text"><div class="resource-title">Legal Framework</div><div class="resource-type">National Laws</div></div></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>`;
    }

    // Navigation Functions
    window.showScreen = function(screen) {
        document.querySelectorAll('.screen, .login-container').forEach(s => {
            s.classList.remove('show', 'show-block');
        });
        const el = document.getElementById(screen + 'Screen');
        if (el) {
            if (screen === 'login') {
                el.classList.add('show');
            } else {
                el.classList.add('show-block');
            }
        }
        if (screen === 'analysis') {
            setTimeout(initCharts, 100);
        }
        currentScreen = screen;
    };

    window.showConvention = function(id) {
        showScreen(id);
        currentConvention = id;
        showTab(id, 'overview');
    };

    window.showTab = function(conv, tab) {
        document.querySelectorAll(`#${conv}Screen .tab-content`).forEach(t => t.classList.remove('active'));
        document.querySelectorAll(`#${conv}Screen .tab-btn`).forEach(b => b.classList.remove('active'));
        const tabEl = document.getElementById(`${conv}-${tab}`);
        if (tabEl) tabEl.classList.add('active');
        if (event && event.target) event.target.classList.add('active');
    };

    window.toggleLang = function(lang) {
        document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
        if (lang === 'ur') {
            document.querySelectorAll('.lang-btn')[1].classList.add('active');
            document.body.style.direction = 'rtl';
        } else {
            document.querySelectorAll('.lang-btn')[0].classList.add('active');
            document.body.style.direction = 'ltr';
        }
    };

    // Form Functions
    window.updateFields = function() {
        const conv = document.getElementById('convSelect').value;
        const thematic = document.getElementById('thematicArea');
        const recSelect = document.getElementById('recSelect');
        const uprSelect = document.getElementById('uprSelect');
        const sdgSelect = document.getElementById('sdgSelect');
        const hriSelect = document.getElementById('hriSelect');
        
        const data = {
            'cedaw': {area: 'Women Rights', recs: ['Eliminate discrimination', 'Equal education', 'Combat violence'], upr: ['UPR 152.78', 'UPR 152.79'], sdg: ['Goal 5', 'Goal 4'], hri: ['Right to Health','Right to Education']},
            'crc': {area: 'Child Rights', recs: ['Eliminate child labor', 'Universal education', 'End child marriage'], upr: ['UPR 152.82', 'UPR 152.83'], sdg: ['Goal 4', 'Goal 1'], hri: ['Right to Health','Right to Education', 'Right to Food']},
            'crpd': {area: 'Disability Rights', recs: ['Accessibility', 'Inclusive education', 'Employment quota'], upr: ['UPR 152.86'], sdg: ['Goal 10', 'Goal 4']}, hri: ['Right to Health'],
            'icerd': {area: 'Minority Rights', recs: ['Anti-discrimination law', 'Protect minorities', 'Equal access'], upr: ['UPR 152.90'], sdg: ['Goal 10', 'Goal 16'], hri: ['Right to Housing','Right to Work']},
            'iccpr': {area: 'Civil Rights', recs: ['Freedom of expression', 'Judicial independence', 'Fair trial'], upr: ['UPR 152.94'], sdg: ['Goal 16'], hri: ['Right to Health','Right to Education']},
            'icescr': {area: 'Economic Rights', recs: ['Right to housing', 'Healthcare access', 'Labor rights'], upr: ['UPR 152.98'], sdg: ['Goal 1', 'Goal 3'], hri: ['Right to Work']},
            'cat': {area: 'Torture Prevention', recs: ['Criminalize torture', 'Police reform', 'Victim support'], upr: ['UPR 152.102'], sdg: ['Goal 16']}
        };
        
        if (data[conv]) {
            thematic.value = data[conv].area;
            recSelect.innerHTML = '<option>Select</option>' + data[conv].recs.map(r => `<option>${r}</option>`).join('');
            uprSelect.innerHTML = '<option>Select</option>' + data[conv].upr.map(u => `<option>${u}</option>`).join('');
            sdgSelect.innerHTML = '<option>Select</option>' + data[conv].sdg.map(s => `<option>${s}</option>`).join('');
            hriSelect.innerHTML = '<option>Select</option>' + data[conv].hri.map(s => `<option>${s}</option>`).join('');
        } else {
            thematic.value = '';
            recSelect.innerHTML = '<option>Select Recommendation</option>';
            uprSelect.innerHTML = '<option>Auto-selected</option>';
            sdgSelect.innerHTML = '<option>Auto-selected</option>';
            hriSelect.innerHTML = '<option>Auto-selected</option>';
        }
    };

    // Chart Functions
    window.initCharts = function() {
        Object.values(charts).forEach(c => c && c.destroy && c.destroy());
        charts = {};

        const convCtx = document.getElementById('convChart');
        if (convCtx) {
            charts.conv = new Chart(convCtx.getContext('2d'), {
                type: 'bar',
                data: {labels: ['ICERD', 'ICCPR', 'ICESCR', 'CEDAW', 'CAT', 'CRC', 'CRPD'], datasets: [{label: 'Records', data: [45, 38, 31, 52, 28, 41, 35], backgroundColor: 'rgba(1,65,28,0.8)'}]},
                options: {responsive: true, maintainAspectRatio: false, scales: {y: {beginAtZero: true}}}
            });
        }

        const statusCtx = document.getElementById('statusChart');
        if (statusCtx) {
            charts.status = new Chart(statusCtx.getContext('2d'), {
                type: 'doughnut',
                data: {labels: ['Ongoing', 'Accomplished'], datasets: [{data: [112, 158], backgroundColor: ['rgba(255,193,7,0.8)', 'rgba(76,175,80,0.8)']}]},
                options: {responsive: true, maintainAspectRatio: false}
            });
        }

        const timeCtx = document.getElementById('timelineChart');
        if (timeCtx) {
            charts.time = new Chart(timeCtx.getContext('2d'), {
                type: 'line',
                data: {labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'], datasets: [{label: 'Records', data: [12, 19, 15, 25, 22, 30, 28, 35, 31, 38, 42, 45], borderColor: 'rgba(30,136,229,1)', backgroundColor: 'rgba(30,136,229,0.2)', tension: 0.4}]},
                options: {responsive: true, maintainAspectRatio: false, scales: {y: {beginAtZero: true}}}
            });
        }

        const sdgCtx = document.getElementById('sdgChart');
        if (sdgCtx) {
            charts.sdg = new Chart(sdgCtx.getContext('2d'), {
                type: 'radar',
                data: {labels: ['No Poverty', 'Zero Hunger', 'Health', 'Education', 'Gender', 'Inequalities', 'Peace'], datasets: [{label: 'Coverage', data: [65, 45, 78, 82, 71, 68, 75], backgroundColor: 'rgba(0,172,193,0.2)', borderColor: 'rgba(0,172,193,1)'}]},
                options: {responsive: true, maintainAspectRatio: false, scales: {r: {beginAtZero: true, max: 100}}}
            });
        }

        const provCtx = document.getElementById('provChart');
        if (provCtx) {
            charts.prov = new Chart(provCtx.getContext('2d'), {
                type: 'pie',
                data: {labels: ['Punjab', 'Sindh', 'KPK', 'Balochistan', 'ICT', 'GB', 'AJK'], datasets: [{data: [85, 62, 45, 28, 19, 15, 16], backgroundColor: ['rgba(1,65,28,0.8)', 'rgba(30,136,229,0.8)', 'rgba(0,172,193,0.8)', 'rgba(255,152,0,0.8)', 'rgba(76,175,80,0.8)', 'rgba(156,39,176,0.8)', 'rgba(121,85,72,0.8)']}]},
                options: {responsive: true, maintainAspectRatio: false}
            });
        }
    };

    // Report Functions
    window.generateReport = function() {
        document.getElementById('reportOutput').style.display = 'block';
        setTimeout(() => {
            const reportCtx = document.getElementById('reportChart');
            if (reportCtx) {
                new Chart(reportCtx.getContext('2d'), {
                    type: 'bar',
                    data: {labels: ['Q1', 'Q2', 'Q3', 'Q4'], datasets: [{label: 'Completed', data: [8, 12, 10, 15], backgroundColor: 'rgba(1,65,28,0.8)'}, {label: 'Ongoing', data: [5, 4, 6, 5], backgroundColor: 'rgba(255,193,7,0.8)'}]},
                    options: {responsive: true, maintainAspectRatio: false, scales: {y: {beginAtZero: true}}}
                });
            }
            document.getElementById('reportOutput').scrollIntoView({behavior: 'smooth'});
        }, 100);
    };

    window.setPrompt = function(n) {
        const prompts = {1: 'Generate annual progress report for all conventions in 2024', 2: 'Analyze compliance status for all seven core conventions', 3: 'Create SDG achievement analysis focusing on human rights goals', 4: 'Compare provincial performance in human rights implementation',5: 'Create Human Right Indicator analysis focusing on Women rights'};
        document.getElementById('promptInput').value = prompts[n] || '';
    };

    // Initialize
    render();
    </script>
</body>
</html>